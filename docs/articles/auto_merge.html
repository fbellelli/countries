<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Easy joining with auto_merge() • countries</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Easy joining with auto_merge()">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">countries</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/auto_merge.html">Easy joining with auto_merge()</a></li>
    <li><a class="dropdown-item" href="../articles/data_structure.html">Detecting the structure of data tables</a></li>
    <li><a class="dropdown-item" href="../articles/dealing_with_names.html">Dealing with country names</a></li>
    <li><a class="dropdown-item" href="../articles/quick_map.html">Easy country chloropleth maps</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/fbellelli/countries/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Easy joining with auto_merge()</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/fbellelli/countries/blob/HEAD/vignettes/auto_merge.Rmd" class="external-link"><code>vignettes/auto_merge.Rmd</code></a></small>
      <div class="d-none name"><code>auto_merge.Rmd</code></div>
    </div>

    
    
<p>The function <code><a href="../reference/auto_merge.html">auto_merge()</a></code> allows easy merging of data
tables. This function is optimised to work with the most common country
data formats. Some of the advantages over other merging functions are
that: <strong>1)</strong> it allows merging of multiple tables at the
same time, <strong>2)</strong> it can automatically detect columns to
merge, <strong>3)</strong> it automatically handles different country
naming conventions and date formats, <strong>4)</strong> it
automatically pivots country names or years in table headers.</p>
<p>In this vignette we will go through some examples showcasing these
functionalities.</p>
<div class="section level2">
<h2 id="example-data">Example data<a class="anchor" aria-label="anchor" href="#example-data"></a>
</h2>
<p>Let’s first start by creating some example data to merge. All the
tables created below contain data relating to countries, but their
format and keys are different. <code>tab1</code> is a classic
cross-sectional data, providing one data point per country.
<code>tab2</code> and <code>tab3</code> are typical panel (or
longitudinal) dataset, providing data for countries over different time
periods. The difference between the two is the structure of the table
(<code>tab2</code> is in a long format, while <code>tab3</code> is in a
wide format) and the time frequency of observations (annual vs monthly).
Finally, <code>tab4</code> and <code>tab5</code> provide sectoral data
for different countries.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># FIFA female world cups won</span></span>
<span><span class="va">tab1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>country <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"UNITED STATES"</span>, <span class="st">"GERMANY"</span>, <span class="st">"NORWAY"</span>, <span class="st">"JAPAN"</span><span class="op">)</span>,</span>
<span>                   FIFA_cups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># nominal yearly GDP estimates from IMF (World economic outlook) </span></span>
<span><span class="va">tab2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>nation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DEU"</span>, <span class="st">"JPN"</span>, <span class="st">"USA"</span>, <span class="st">"DEU"</span>, <span class="st">"JPN"</span>, <span class="st">"USA"</span><span class="op">)</span>,</span>
<span>                   year <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1980</span>,<span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">2019</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span>, </span>
<span>                   GDP <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">854</span>, <span class="fl">1128</span>, <span class="fl">2857</span>, <span class="fl">3888</span>, <span class="fl">5118</span>, <span class="fl">21380</span><span class="op">)</span>, </span>
<span>                   unit <span class="op">=</span> <span class="st">"billion current USD"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># fictitious monthly time series</span></span>
<span><span class="va">tab3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"01.01.2019"</span>, <span class="st">"01.02.2019"</span>, <span class="st">"01.03.2019"</span><span class="op">)</span>, </span>
<span>                   Japan <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, </span>
<span>                   Norway <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">4</span>, </span>
<span>                   Germany <span class="op">=</span> <span class="fl">3</span><span class="op">:</span><span class="fl">5</span>, </span>
<span>                   US <span class="op">=</span> <span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># fictitious sectoral data</span></span>
<span><span class="va">tab4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2019</span>,</span>
<span>                   country <span class="op">=</span> <span class="st">"US"</span>, </span>
<span>                   industry <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Agriculture"</span>, <span class="st">"Mining"</span>, <span class="st">"Manifacture"</span>, <span class="st">"Energy"</span><span class="op">)</span>,</span>
<span>                   freq <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># more fictitious sectoral data</span></span>
<span><span class="va">tab5</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>country <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Estados Unidos"</span>, <span class="st">"Japon"</span>, <span class="st">"Estados Unidos"</span>, <span class="st">"Japon"</span><span class="op">)</span>, </span>
<span>                   sector <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Agriculture"</span>, <span class="st">"Agriculture"</span>,<span class="st">"Energy"</span>, <span class="st">"Energy"</span><span class="op">)</span>,</span>
<span>                   x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span>, <span class="cn">T</span>, <span class="cn">F</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="quick-start">Quick start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h2>
<p>Using <code><a href="../reference/auto_merge.html">auto_merge()</a></code> is really easy. All the users needs
to do is list the tables to merge. In most cases, the function will be
able take care of everything else.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auto_merge.html">auto_merge</a></span><span class="op">(</span><span class="va">tab1</span>, <span class="va">tab2</span>, <span class="va">tab3</span>, <span class="va">tab4</span>, <span class="va">tab5</span><span class="op">)</span></span>
<span><span class="co">#&gt; Identifying columns to merge</span></span>
<span><span class="co">#&gt; Table 3 - countries detected in column names, pivoting columns: Japan, Norway, Germany, US</span></span>
<span><span class="co">#&gt; Data type for variable time differ across tables - converting to character</span></span>
<span><span class="co">#&gt; Converting country names</span></span>
<span><span class="co">#&gt; Checking time columns</span></span>
<span><span class="co">#&gt; The following columns are being merged:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =======  =======================  ====  ========</span></span>
<span><span class="co">#&gt; \        country                  time  industry</span></span>
<span><span class="co">#&gt; =======  =======================  ====  ========</span></span>
<span><span class="co">#&gt; Table 1  country                                </span></span>
<span><span class="co">#&gt; Table 2  nation                   year          </span></span>
<span><span class="co">#&gt; Table 3  Table3_pivoted_colnames  Date          </span></span>
<span><span class="co">#&gt; Table 4  country                  year  industry</span></span>
<span><span class="co">#&gt; Table 5  country                        sector  </span></span>
<span><span class="co">#&gt; =======  =======================  ====  ========</span></span>
<span><span class="co">#&gt;                                               Performing merge: 1/4                                               Performing merge: 2/4                                               Performing merge: 3/4                                               Performing merge: 4/4                                               Merge complete</span></span>
<span><span class="co">#&gt; (Set merging_info to TRUE to save merging details)</span></span>
<span><span class="co">#&gt;    country FIFA_cups       time   GDP                unit Table3_pivoted_values</span></span>
<span><span class="co">#&gt; 1      USA         4 1980-01-01  2857 billion current USD                    NA</span></span>
<span><span class="co">#&gt; 2      USA         4 2019-01-01 21380 billion current USD                     4</span></span>
<span><span class="co">#&gt; 3      USA         4 2019-01-01 21380 billion current USD                     4</span></span>
<span><span class="co">#&gt; 4      USA         4 2019-01-01 21380 billion current USD                     4</span></span>
<span><span class="co">#&gt; 5      USA         4 2019-01-01 21380 billion current USD                     4</span></span>
<span><span class="co">#&gt; 6      DEU         2 1980-01-01   854 billion current USD                    NA</span></span>
<span><span class="co">#&gt; 7      DEU         2 2019-01-01  3888 billion current USD                     3</span></span>
<span><span class="co">#&gt; 8      NOR         1       &lt;NA&gt;    NA                &lt;NA&gt;                    NA</span></span>
<span><span class="co">#&gt; 9      JPN         1 1980-01-01  1128 billion current USD                    NA</span></span>
<span><span class="co">#&gt; 10     JPN         1 2019-01-01  5118 billion current USD                     1</span></span>
<span><span class="co">#&gt; 11     NOR        NA 2019-01-01    NA                &lt;NA&gt;                     2</span></span>
<span><span class="co">#&gt; 12     JPN        NA 2019-02-01    NA                &lt;NA&gt;                     2</span></span>
<span><span class="co">#&gt; 13     NOR        NA 2019-02-01    NA                &lt;NA&gt;                     3</span></span>
<span><span class="co">#&gt; 14     DEU        NA 2019-02-01    NA                &lt;NA&gt;                     4</span></span>
<span><span class="co">#&gt; 15     USA        NA 2019-02-01    NA                &lt;NA&gt;                     5</span></span>
<span><span class="co">#&gt; 16     JPN        NA 2019-03-01    NA                &lt;NA&gt;                     3</span></span>
<span><span class="co">#&gt; 17     NOR        NA 2019-03-01    NA                &lt;NA&gt;                     4</span></span>
<span><span class="co">#&gt; 18     DEU        NA 2019-03-01    NA                &lt;NA&gt;                     5</span></span>
<span><span class="co">#&gt; 19     USA        NA 2019-03-01    NA                &lt;NA&gt;                     6</span></span>
<span><span class="co">#&gt; 20     JPN        NA       &lt;NA&gt;    NA                &lt;NA&gt;                    NA</span></span>
<span><span class="co">#&gt; 21     JPN        NA       &lt;NA&gt;    NA                &lt;NA&gt;                    NA</span></span>
<span><span class="co">#&gt;       industry       freq     x</span></span>
<span><span class="co">#&gt; 1         &lt;NA&gt;         NA    NA</span></span>
<span><span class="co">#&gt; 2  Agriculture 0.08075014  TRUE</span></span>
<span><span class="co">#&gt; 3       Mining 0.83433304    NA</span></span>
<span><span class="co">#&gt; 4  Manifacture 0.60076089    NA</span></span>
<span><span class="co">#&gt; 5       Energy 0.15720844  TRUE</span></span>
<span><span class="co">#&gt; 6         &lt;NA&gt;         NA    NA</span></span>
<span><span class="co">#&gt; 7         &lt;NA&gt;         NA    NA</span></span>
<span><span class="co">#&gt; 8         &lt;NA&gt;         NA    NA</span></span>
<span><span class="co">#&gt; 9         &lt;NA&gt;         NA    NA</span></span>
<span><span class="co">#&gt; 10        &lt;NA&gt;         NA    NA</span></span>
<span><span class="co">#&gt; 11        &lt;NA&gt;         NA    NA</span></span>
<span><span class="co">#&gt; 12        &lt;NA&gt;         NA    NA</span></span>
<span><span class="co">#&gt; 13        &lt;NA&gt;         NA    NA</span></span>
<span><span class="co">#&gt; 14        &lt;NA&gt;         NA    NA</span></span>
<span><span class="co">#&gt; 15        &lt;NA&gt;         NA    NA</span></span>
<span><span class="co">#&gt; 16        &lt;NA&gt;         NA    NA</span></span>
<span><span class="co">#&gt; 17        &lt;NA&gt;         NA    NA</span></span>
<span><span class="co">#&gt; 18        &lt;NA&gt;         NA    NA</span></span>
<span><span class="co">#&gt; 19        &lt;NA&gt;         NA    NA</span></span>
<span><span class="co">#&gt; 20 Agriculture         NA FALSE</span></span>
<span><span class="co">#&gt; 21      Energy         NA FALSE</span></span></code></pre></div>
<p>The function will print to the console some information on the merger
status. The most important piece of information is the table summarising
all the columns that are being merged together (see reproduction below).
Each row in this table corresponds to one of the input data tables, each
column to a key that is used for merging. The names in this table are
the column names from the original data tables. The names in the header
of the summary table is the name of the merged columns in the final
output table. For instance, the summary table is telling us that the
columns “year”, “Date” and “year”, respectively from the third, fourth
and fifth input table were merged together into a column called
“time”.</p>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="left">country</th>
<th align="left">time</th>
<th align="left">industry</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Table 1</td>
<td align="left">country</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">Table 2</td>
<td align="left">nation</td>
<td align="left">year</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">Table 3</td>
<td align="left">Table3_pivoted_colnames</td>
<td align="left">Date</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">Table 4</td>
<td align="left">country</td>
<td align="left">year</td>
<td align="left">industry</td>
</tr>
<tr class="odd">
<td align="left">Table 5</td>
<td align="left">country</td>
<td align="left">NA</td>
<td align="left">sector</td>
</tr>
</tbody>
</table>
<p>It is always a good idea to inspect the summary table and make sure
that the correct columns were merged. In case the function did not merge
the right columns, the user can manually provide a merging order. For
more information, you can may refer to the section in this article
<em>Manual merging orders</em>.</p>
</div>
<div class="section level2">
<h2 id="the-function-in-details">The function in details<a class="anchor" aria-label="anchor" href="#the-function-in-details"></a>
</h2>
<div class="section level3">
<h3 id="dynamic-inputs">Dynamic inputs<a class="anchor" aria-label="anchor" href="#dynamic-inputs"></a>
</h3>
<p>The function also accept a lists of tables as inputs. This could be
useful when passing a dynamic set of tables to the function.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">tab1</span>, <span class="va">tab2</span>, <span class="va">tab3</span>, <span class="va">tab4</span>, <span class="va">tab5</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># the following two commands are equivalent</span></span>
<span><span class="fu"><a href="../reference/auto_merge.html">auto_merge</a></span><span class="op">(</span><span class="va">tab1</span>, <span class="va">tab2</span>, <span class="va">tab3</span>, <span class="va">tab4</span>, <span class="va">tab5</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/auto_merge.html">auto_merge</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="country-names">Country names<a class="anchor" aria-label="anchor" href="#country-names"></a>
</h3>
<p><code><a href="../reference/auto_merge.html">auto_merge()</a></code> will automatically recognise country names
and convert them to the same nomenclature for merging. For example, the
country names in <code>tab1</code> and <code>tab2</code> have a
different format, but with <code><a href="../reference/auto_merge.html">auto_merge()</a></code> there is no need of
converting the names beforehand. The function will perform this
automatically. This feature is based on the function
<code><a href="../reference/country_name.html">country_name()</a></code>, which is described in <a href="https://fbellelli.github.io/countries/articles/dealing_with_names.html">this
article</a>.</p>
<p>It is possible to change the destination nomenclature with the
argument <code>country_to</code>. By default, all country names will be
converted to ISO 3166-1 alpha-3 standard. Any of the nomenclatures
supported by <code><a href="../reference/country_name.html">country_name()</a></code> can be requested.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># changing the country names to UN spanish official name</span></span>
<span><span class="fu"><a href="../reference/auto_merge.html">auto_merge</a></span><span class="op">(</span><span class="va">tab1</span>, <span class="va">tab2</span>, country_to <span class="op">=</span> <span class="st">"UN_es"</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt;                     country FIFA_cups time   GDP                unit</span></span>
<span><span class="co">#&gt; 1 Estados Unidos de América         4 1980  2857 billion current USD</span></span>
<span><span class="co">#&gt; 2 Estados Unidos de América         4 2019 21380 billion current USD</span></span>
<span><span class="co">#&gt; 3                  Alemania         2 1980   854 billion current USD</span></span>
<span><span class="co">#&gt; 4                  Alemania         2 2019  3888 billion current USD</span></span>
<span><span class="co">#&gt; 5                   Noruega         1   NA    NA                &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 6                     Japón         1 1980  1128 billion current USD</span></span>
<span><span class="co">#&gt; 7                     Japón         1 2019  5118 billion current USD</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="pivotting-of-countries-and-years-in-table-headers">Pivotting of countries and years in table headers<a class="anchor" aria-label="anchor" href="#pivotting-of-countries-and-years-in-table-headers"></a>
</h3>
<p>When country names or years are found in the column names, the
function will automatically transform the table from a wide to a <a href="https://en.wikipedia.org/wiki/Wide_and_narrow_data" class="external-link">long
format</a> by pivoting the country/year columns. At least 3 country
names or years need to be present in the table header to trigger the
automatic pivoting. Pivoting can be turned off by setting
<code>auto_melt = FALSE</code>. For additional information, refer to the
documentation of the function <code><a href="../reference/auto_melt.html">auto_melt()</a></code>.</p>
<p>In the first example below, the <code>auto_melt</code> option is
turned on (this is the default behaviour). The function detects country
names in the header of the table and proceeds to pivoting the
corresponding columns. Pivoted columns will have the name
<code>"Table?_pivoted_colnames"</code> and the data from these columns
will be stored in a column <code>"Table?_pivoted_data"</code> (here ?
stands for the number of the table in the provided input). A message is
printed on the console to inform the user that columns have been
pivoted.</p>
<p>Notice that in the second example no pivoting is performed. As a
result, no shared key was found for merging and the two tables were just
stacked in the final output.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># with auto_melt</span></span>
<span><span class="fu"><a href="../reference/auto_merge.html">auto_merge</a></span><span class="op">(</span><span class="va">tab1</span>, <span class="va">tab3</span><span class="op">)</span></span>
<span><span class="co">#&gt; Identifying columns to merge</span></span>
<span><span class="co">#&gt; Table 2 - countries detected in column names, pivoting columns: Japan, Norway, Germany, US</span></span>
<span><span class="co">#&gt; Converting country names</span></span>
<span><span class="co">#&gt; Checking time columns</span></span>
<span><span class="co">#&gt; The following columns are being merged:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =======  =======================  ====</span></span>
<span><span class="co">#&gt; \        country                  time</span></span>
<span><span class="co">#&gt; =======  =======================  ====</span></span>
<span><span class="co">#&gt; Table 1  country                      </span></span>
<span><span class="co">#&gt; Table 2  Table2_pivoted_colnames  Date</span></span>
<span><span class="co">#&gt; =======  =======================  ====</span></span>
<span><span class="co">#&gt;                                               Performing merge: 1/1                                               Merge complete</span></span>
<span><span class="co">#&gt; (Set merging_info to TRUE to save merging details)</span></span>
<span><span class="co">#&gt;    country FIFA_cups       time Table2_pivoted_values</span></span>
<span><span class="co">#&gt; 1      USA         4 2019-01-01                     4</span></span>
<span><span class="co">#&gt; 2      USA         4 2019-02-01                     5</span></span>
<span><span class="co">#&gt; 3      USA         4 2019-03-01                     6</span></span>
<span><span class="co">#&gt; 4      DEU         2 2019-01-01                     3</span></span>
<span><span class="co">#&gt; 5      DEU         2 2019-02-01                     4</span></span>
<span><span class="co">#&gt; 6      DEU         2 2019-03-01                     5</span></span>
<span><span class="co">#&gt; 7      NOR         1 2019-01-01                     2</span></span>
<span><span class="co">#&gt; 8      NOR         1 2019-02-01                     3</span></span>
<span><span class="co">#&gt; 9      NOR         1 2019-03-01                     4</span></span>
<span><span class="co">#&gt; 10     JPN         1 2019-01-01                     1</span></span>
<span><span class="co">#&gt; 11     JPN         1 2019-02-01                     2</span></span>
<span><span class="co">#&gt; 12     JPN         1 2019-03-01                     3</span></span>
<span></span>
<span><span class="co"># without auto_melt</span></span>
<span><span class="fu"><a href="../reference/auto_merge.html">auto_merge</a></span><span class="op">(</span><span class="va">tab1</span>, <span class="va">tab3</span>, auto_melt <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Identifying columns to merge</span></span>
<span><span class="co">#&gt; Converting country names</span></span>
<span><span class="co">#&gt; Checking time columns</span></span>
<span><span class="co">#&gt; The following columns are being merged:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =======  =======  ====</span></span>
<span><span class="co">#&gt; \        country  time</span></span>
<span><span class="co">#&gt; =======  =======  ====</span></span>
<span><span class="co">#&gt; Table 1  country      </span></span>
<span><span class="co">#&gt; Table 2           Date</span></span>
<span><span class="co">#&gt; =======  =======  ====</span></span>
<span><span class="co">#&gt;                                               Performing merge: 1/1                                               Merge complete</span></span>
<span><span class="co">#&gt; (Set merging_info to TRUE to save merging details)</span></span>
<span><span class="co">#&gt;   country FIFA_cups       time Japan Norway Germany US</span></span>
<span><span class="co">#&gt; 1     USA         4       &lt;NA&gt;    NA     NA      NA NA</span></span>
<span><span class="co">#&gt; 2     DEU         2       &lt;NA&gt;    NA     NA      NA NA</span></span>
<span><span class="co">#&gt; 3     NOR         1       &lt;NA&gt;    NA     NA      NA NA</span></span>
<span><span class="co">#&gt; 4     JPN         1       &lt;NA&gt;    NA     NA      NA NA</span></span>
<span><span class="co">#&gt; 5    &lt;NA&gt;        NA 2019-01-01     1      2       3  4</span></span>
<span><span class="co">#&gt; 6    &lt;NA&gt;        NA 2019-02-01     2      3       4  5</span></span>
<span><span class="co">#&gt; 7    &lt;NA&gt;        NA 2019-03-01     3      4       5  6</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="inner-vs-full-join">Inner vs full join<a class="anchor" aria-label="anchor" href="#inner-vs-full-join"></a>
</h3>
<p>By default, the function will return a <strong>full join</strong> of
all the tables. This means that all the table-key combinations are
conserved in the output table. If no information is available for a
variable, <code>NA</code> will be used to fill the output table. By
contrast, an <strong>inner join</strong> only keeps the combination of
keys that are available across all tables. <a href="https://en.wikipedia.org/wiki/Join_(SQL)" class="external-link">Click here for more
information on join types</a>.</p>
<p>An inner join can be requested with the argument
<code>inner_join</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auto_merge.html">auto_merge</a></span><span class="op">(</span><span class="va">tab1</span>, <span class="va">tab2</span>, <span class="va">tab3</span>, <span class="va">tab4</span>, <span class="va">tab5</span>, inner_join <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Identifying columns to merge</span></span>
<span><span class="co">#&gt; Table 3 - countries detected in column names, pivoting columns: Japan, Norway, Germany, US</span></span>
<span><span class="co">#&gt; Data type for variable time differ across tables - converting to character</span></span>
<span><span class="co">#&gt; Converting country names</span></span>
<span><span class="co">#&gt; Checking time columns</span></span>
<span><span class="co">#&gt; The following columns are being merged:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =======  =======================  ====  ========</span></span>
<span><span class="co">#&gt; \        country                  time  industry</span></span>
<span><span class="co">#&gt; =======  =======================  ====  ========</span></span>
<span><span class="co">#&gt; Table 1  country                                </span></span>
<span><span class="co">#&gt; Table 2  nation                   year          </span></span>
<span><span class="co">#&gt; Table 3  Table3_pivoted_colnames  Date          </span></span>
<span><span class="co">#&gt; Table 4  country                  year  industry</span></span>
<span><span class="co">#&gt; Table 5  country                        sector  </span></span>
<span><span class="co">#&gt; =======  =======================  ====  ========</span></span>
<span><span class="co">#&gt;                                               Performing merge: 1/4                                               Performing merge: 2/4                                               Performing merge: 3/4                                               Performing merge: 4/4                                               Merge complete</span></span>
<span><span class="co">#&gt; (Set merging_info to TRUE to save merging details)</span></span>
<span><span class="co">#&gt;   country FIFA_cups       time   GDP                unit Table3_pivoted_values</span></span>
<span><span class="co">#&gt; 1     USA         4 2019-01-01 21380 billion current USD                     4</span></span>
<span><span class="co">#&gt; 2     USA         4 2019-01-01 21380 billion current USD                     4</span></span>
<span><span class="co">#&gt;      industry       freq    x</span></span>
<span><span class="co">#&gt; 1 Agriculture 0.08075014 TRUE</span></span>
<span><span class="co">#&gt; 2      Energy 0.15720844 TRUE</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="turning-off-messages">Turning off messages<a class="anchor" aria-label="anchor" href="#turning-off-messages"></a>
</h3>
<p>The function’s messages tend to be very wordy. If you wish to
suppress messages printed to the console you can just turn them off with
the option <code>verbose = FALSE</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auto_merge.html">auto_merge</a></span><span class="op">(</span><span class="va">tab1</span>, <span class="va">tab2</span>, <span class="va">tab3</span>, <span class="va">tab4</span>, <span class="va">tab5</span>, verbose <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="saving-information-on-merging-operations">Saving information on merging operations<a class="anchor" aria-label="anchor" href="#saving-information-on-merging-operations"></a>
</h3>
<p>If the argument <code>merging_info</code> is set to
<code>TRUE</code>, the function will return a list object containing
additional information on the merger. The following objects are saved in
the output:</p>
<ul>
<li>
<code>merged_table</code>: This is the merged data table (i.e. the
table you get when <code>merging_info = FALSE</code>).</li>
<li>
<code>info_merged_columns</code>: This is the summary table that is
printed on the console. It gives an overview of all the columns that are
merged together. It is always a good idea to inspect this table and make
sure that the correct columns were merged.</li>
<li>
<code>info_country_names</code>: If any country column is found,
here the user can find a table summarising the conversion of all the
country names to the destination nomenclature. This can be used to check
if countries were correctly identified.</li>
<li>
<code>info_time_formats</code>: similar to the above, this table
summarises any conversion that was made to date columns. It can be used
to check how time columns were handled by the function.</li>
<li>
<code>pivotted_columns</code>: When country names or years are found
in the header of the table, <code><a href="../reference/auto_merge.html">auto_merge()</a></code> automatically
“pivots” the table. Pivoting transforms the table into a <a href="https://en.wikipedia.org/wiki/Wide_and_narrow_data" class="external-link">long
format</a>. The name of all columns that have been pivotted is saved in
a list format here.</li>
<li>
<code>call</code>: This is a list recapitulating the user’s
call.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="manual-merging-orders">Manual merging orders<a class="anchor" aria-label="anchor" href="#manual-merging-orders"></a>
</h2>
<p>The automatic merging process starts by first identifying the key of
each table, i.e. a set of variables identifying the entries in the
table. This process is optimised for common formats of country data. The
function will then try to match key columns across tables based on their
values. Columns containing country names and time information are
identified and are processed to take into account different
nomenclatures and time formats. This automatic process works for the
most common dataset structures, but it is not foolproof. Therefore, we
always advise to check the columns that are being merged by setting
<code>verbose = TRUE</code> and reading the printout. Moreover, this
automatic detection process can increase the overall merging time
considerably. This can be especially long for tables containing many
columns or when a large number of tables is being merged.</p>
<p>The user can pass a merge order with argument <code>by</code> to save
time during the merger, or if the detection process did not succeed.
Inputs need to be provided either 1) as a list of column names, or 2) a
vector of regular expressions. Here we will go in more details on the
format requirements.</p>
<p><strong>A) List of column names</strong></p>
<p>In case a <em>list</em> is passed, there are 3 key requirements
regarding the format.</p>
<ol style="list-style-type: decimal">
<li>Each element of the list must be a vector of length equal to the
number of tables being merged. For instance, if 3 tables are being
merged, the list needs to contain one or more character vectors of
length 3. One vector should be provided for each variable to merge (in
the example below one for countries and one for years).</li>
<li>The vectors should contain the names of columns to be merged in each
table, <code>NA</code> can be inserted for tables that do not contain
the variable, and names should be ordered in the same order of the input
tables (i.e. the first column name should be present in the first table
being merged).</li>
<li>Optionally, the name of the merged columns can be modified by
assigning a name to the elements of the list. If no name is provided,
the first column name is retained.</li>
</ol>
<p>In the example below, we are requesting to merge the columns
<code>"country"</code> and <code>"nation"</code> from <code>tab1</code>
and <code>tab2</code>, and the columns <code>"year"</code> from
<code>tab2</code> and <code>tab4</code>. Notice that we are inserting
<code>NA</code> whenever the key is not present in the table. In
addition, we are also changing the name in the final table to
<code>"COUNTRIES"</code> and <code>"YEARS"</code> by naming the elemnts
in the list.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># asking to merge country and year columns manually with a list of column names</span></span>
<span><span class="fu"><a href="../reference/auto_merge.html">auto_merge</a></span><span class="op">(</span><span class="va">tab1</span>, <span class="va">tab2</span>, <span class="va">tab4</span>,</span>
<span>           by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"COUNTRIES"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"country"</span>, <span class="st">"nation"</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>                     <span class="st">"YEARS"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="st">"year"</span>, <span class="st">"year"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Identifying columns to merge</span></span>
<span><span class="co">#&gt; Converting country names</span></span>
<span><span class="co">#&gt; Checking time columns</span></span>
<span><span class="co">#&gt; The following columns are being merged:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =======  =========  =====</span></span>
<span><span class="co">#&gt; \        COUNTRIES  YEARS</span></span>
<span><span class="co">#&gt; =======  =========  =====</span></span>
<span><span class="co">#&gt; Table 1  country         </span></span>
<span><span class="co">#&gt; Table 2  nation     year </span></span>
<span><span class="co">#&gt; Table 3             year </span></span>
<span><span class="co">#&gt; =======  =========  =====</span></span>
<span><span class="co">#&gt;                                               Performing merge: 1/2                                               Performing merge: 2/2                                               Merge complete</span></span>
<span><span class="co">#&gt; (Set merging_info to TRUE to save merging details)</span></span>
<span><span class="co">#&gt;    COUNTRIES FIFA_cups YEARS   GDP                unit country    industry</span></span>
<span><span class="co">#&gt; 1        USA         4  1980  2857 billion current USD    &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2        USA         4  2019 21380 billion current USD      US Agriculture</span></span>
<span><span class="co">#&gt; 3        USA         4  2019 21380 billion current USD      US      Mining</span></span>
<span><span class="co">#&gt; 4        USA         4  2019 21380 billion current USD      US Manifacture</span></span>
<span><span class="co">#&gt; 5        USA         4  2019 21380 billion current USD      US      Energy</span></span>
<span><span class="co">#&gt; 6        DEU         2  1980   854 billion current USD    &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 7        DEU         2  2019  3888 billion current USD      US Agriculture</span></span>
<span><span class="co">#&gt; 8        DEU         2  2019  3888 billion current USD      US      Mining</span></span>
<span><span class="co">#&gt; 9        DEU         2  2019  3888 billion current USD      US Manifacture</span></span>
<span><span class="co">#&gt; 10       DEU         2  2019  3888 billion current USD      US      Energy</span></span>
<span><span class="co">#&gt; 11       NOR         1    NA    NA                &lt;NA&gt;    &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 12       JPN         1  1980  1128 billion current USD    &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 13       JPN         1  2019  5118 billion current USD      US Agriculture</span></span>
<span><span class="co">#&gt; 14       JPN         1  2019  5118 billion current USD      US      Mining</span></span>
<span><span class="co">#&gt; 15       JPN         1  2019  5118 billion current USD      US Manifacture</span></span>
<span><span class="co">#&gt; 16       JPN         1  2019  5118 billion current USD      US      Energy</span></span>
<span><span class="co">#&gt;          freq</span></span>
<span><span class="co">#&gt; 1          NA</span></span>
<span><span class="co">#&gt; 2  0.08075014</span></span>
<span><span class="co">#&gt; 3  0.83433304</span></span>
<span><span class="co">#&gt; 4  0.60076089</span></span>
<span><span class="co">#&gt; 5  0.15720844</span></span>
<span><span class="co">#&gt; 6          NA</span></span>
<span><span class="co">#&gt; 7  0.08075014</span></span>
<span><span class="co">#&gt; 8  0.83433304</span></span>
<span><span class="co">#&gt; 9  0.60076089</span></span>
<span><span class="co">#&gt; 10 0.15720844</span></span>
<span><span class="co">#&gt; 11         NA</span></span>
<span><span class="co">#&gt; 12         NA</span></span>
<span><span class="co">#&gt; 13 0.08075014</span></span>
<span><span class="co">#&gt; 14 0.83433304</span></span>
<span><span class="co">#&gt; 15 0.60076089</span></span>
<span><span class="co">#&gt; 16 0.15720844</span></span></code></pre></div>
<p><strong>B) Vector of regular expressions</strong></p>
<p>In case a <em>vector</em> is passed, each element in the vector is
interpreted as a regular expression to be used for matching the columns
to be merged. This means that we need to provide one regex for each
variable we want to join. In our example, we would need one regex for
identifying country columns and one for identifying year columns. The
function will scan through the column names and pick the first column
matching with the regex’s pattern. A name can be provided for the
variables in the final table by naming the elements in the vector.</p>
<p>For example, we can achieve exactly the same merger simply with the
following order:
<code>by = c("COUNTRIES" = "country|nation", "YEARS" = "year")</code>.
Since the function will pick the first matching column in each table,
the user must be careful that the regex does not match with any other
undesired column in the tables.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># asking to merge country and year columns manually with a vector of regular expressions</span></span>
<span><span class="fu"><a href="../reference/auto_merge.html">auto_merge</a></span><span class="op">(</span><span class="va">tab1</span>, <span class="va">tab2</span>, <span class="va">tab4</span>,</span>
<span>           by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"COUNTRIES"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"country"</span>, <span class="st">"nation"</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>                     <span class="st">"YEARS"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="st">"year"</span>, <span class="st">"year"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Identifying columns to merge</span></span>
<span><span class="co">#&gt; Converting country names</span></span>
<span><span class="co">#&gt; Checking time columns</span></span>
<span><span class="co">#&gt; The following columns are being merged:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; =======  =========  =====</span></span>
<span><span class="co">#&gt; \        COUNTRIES  YEARS</span></span>
<span><span class="co">#&gt; =======  =========  =====</span></span>
<span><span class="co">#&gt; Table 1  country         </span></span>
<span><span class="co">#&gt; Table 2  nation     year </span></span>
<span><span class="co">#&gt; Table 3             year </span></span>
<span><span class="co">#&gt; =======  =========  =====</span></span>
<span><span class="co">#&gt;                                               Performing merge: 1/2                                               Performing merge: 2/2                                               Merge complete</span></span>
<span><span class="co">#&gt; (Set merging_info to TRUE to save merging details)</span></span>
<span><span class="co">#&gt;    COUNTRIES FIFA_cups YEARS   GDP                unit country    industry</span></span>
<span><span class="co">#&gt; 1        USA         4  1980  2857 billion current USD    &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2        USA         4  2019 21380 billion current USD      US Agriculture</span></span>
<span><span class="co">#&gt; 3        USA         4  2019 21380 billion current USD      US      Mining</span></span>
<span><span class="co">#&gt; 4        USA         4  2019 21380 billion current USD      US Manifacture</span></span>
<span><span class="co">#&gt; 5        USA         4  2019 21380 billion current USD      US      Energy</span></span>
<span><span class="co">#&gt; 6        DEU         2  1980   854 billion current USD    &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 7        DEU         2  2019  3888 billion current USD      US Agriculture</span></span>
<span><span class="co">#&gt; 8        DEU         2  2019  3888 billion current USD      US      Mining</span></span>
<span><span class="co">#&gt; 9        DEU         2  2019  3888 billion current USD      US Manifacture</span></span>
<span><span class="co">#&gt; 10       DEU         2  2019  3888 billion current USD      US      Energy</span></span>
<span><span class="co">#&gt; 11       NOR         1    NA    NA                &lt;NA&gt;    &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 12       JPN         1  1980  1128 billion current USD    &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 13       JPN         1  2019  5118 billion current USD      US Agriculture</span></span>
<span><span class="co">#&gt; 14       JPN         1  2019  5118 billion current USD      US      Mining</span></span>
<span><span class="co">#&gt; 15       JPN         1  2019  5118 billion current USD      US Manifacture</span></span>
<span><span class="co">#&gt; 16       JPN         1  2019  5118 billion current USD      US      Energy</span></span>
<span><span class="co">#&gt;          freq</span></span>
<span><span class="co">#&gt; 1          NA</span></span>
<span><span class="co">#&gt; 2  0.08075014</span></span>
<span><span class="co">#&gt; 3  0.83433304</span></span>
<span><span class="co">#&gt; 4  0.60076089</span></span>
<span><span class="co">#&gt; 5  0.15720844</span></span>
<span><span class="co">#&gt; 6          NA</span></span>
<span><span class="co">#&gt; 7  0.08075014</span></span>
<span><span class="co">#&gt; 8  0.83433304</span></span>
<span><span class="co">#&gt; 9  0.60076089</span></span>
<span><span class="co">#&gt; 10 0.15720844</span></span>
<span><span class="co">#&gt; 11         NA</span></span>
<span><span class="co">#&gt; 12         NA</span></span>
<span><span class="co">#&gt; 13 0.08075014</span></span>
<span><span class="co">#&gt; 14 0.83433304</span></span>
<span><span class="co">#&gt; 15 0.60076089</span></span>
<span><span class="co">#&gt; 16 0.15720844</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="good-to-know">Good to know<a class="anchor" aria-label="anchor" href="#good-to-know"></a>
</h2>
<ul>
<li>When no shared key for merging is found among tables, the tables
will get stacked.</li>
<li>if no country, time column or any merging key is found in the
tables, merging will be attempted based on column names. That is to say,
the function will try to merge columns having identical names. If no
overlapping name is found, then an error is returned.</li>
<li>If columns to be merged have differing data types (e.g. numeric and
logical), they will all be converted to character.</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Francesco Saverio Bellelli.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
