<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="countries">
<title>Easy country chloropleth maps • countries</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Easy country chloropleth maps">
<meta property="og:description" content="countries">
<meta property="og:image" content="https://fbellelli.github.io/countries/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">countries</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.5</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/auto_merge.html">Easy joining with auto_merge()</a>
    <a class="dropdown-item" href="../articles/data_structure.html">Detecting the structure of data tables</a>
    <a class="dropdown-item" href="../articles/dealing_with_names.html">Dealing with country names</a>
    <a class="dropdown-item" href="../articles/quick_map.html">Easy country chloropleth maps</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/fbellelli/countries/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Easy country chloropleth maps</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/fbellelli/countries/blob/HEAD/vignettes/quick_map.Rmd" class="external-link"><code>vignettes/quick_map.Rmd</code></a></small>
      <div class="d-none name"><code>quick_map.Rmd</code></div>
    </div>

    
    
<!-- avoid border around images -->
<style>
    img {
        border: 0;
    }
</style>
<p><a href="https://en.wikipedia.org/wiki/Choropleth_map" class="external-link">Chloropleth
maps</a> can be a powerful visual tool to communicate information about
countries. However, making a nice map in R can be deceivingly
time-consuming. This is where <code><a href="../reference/quick_map.html">quick_map()</a></code> can help!</p>
<p>Its fuzzy matching algorithm automatically recognises country names
and cuts the hassle of matching country data to country shapes.
Predefined colour themes and zooms are provided, to cut the time
involved in making a nice looking map. It even provides an easy
integrated option to save the plot locally with predefined settings.</p>
<p>With <code><a href="../reference/quick_map.html">quick_map()</a></code> you can produce a publication-grade
plot with one short line of code. If you are still not happy with how
your map looks, customisation is endless with all the usual ggplot
commands.</p>
<p>In this vignette, we will walk through some examples.</p>
<div class="section level2">
<h2 id="some-data-to-plot">Some data to plot<a class="anchor" aria-label="anchor" href="#some-data-to-plot"></a>
</h2>
<p>Let’s start by loading the package and putting together a table with
country data which we will use for demonstration. This table contains
information on countries’ population (numeric continuous variable), a
boolean variable indicating whether the country is landlocked, a
categorical/factor variable indicating whether cars in the country drive
on the left or right, and finally information on the capital of the
countries (name, latitude/longitude).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://fbellelli.github.io/countries/">countries</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/country_info.html">country_info</a></span><span class="op">(</span>fields <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"population"</span>, <span class="st">"landlocked"</span>, <span class="st">"car"</span>, <span class="st">"capital"</span>, <span class="st">"capitalInfo"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="quick-start">Quick start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h2>
<p>All it takes to make a plot is one line of code telling to plot the
column <code>"car.side"</code>from the table <code>data</code>. The
function will take care of everything else. Under the hood, the function
looks for a column of country names and matches them to one of the
territories in the <a href="https://en.wikipedia.org/wiki/ISO_3166-1" class="external-link">ISO standard
3166-1</a>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/quick_map.html">quick_map</a></span><span class="op">(</span><span class="va">data</span>, plot_col <span class="op">=</span> <span class="st">"car.side"</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="quick_map_files/figure-html/unnamed-chunk-3-1.png" width="100%"></p>
<div class="section level3">
<h3 id="saving-your-plot">Saving your plot<a class="anchor" aria-label="anchor" href="#saving-your-plot"></a>
</h3>
<p>The plot can be saved with by passing a file path to the argument
<code>save_to</code>. This comes with predefined size and resolution
options. If you wish a more customised download, the function
<code><a href="https://ggplot2.tidyverse.org/reference/ggsave.html" class="external-link">ggplot2::ggsave()</a></code> can be used.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/quick_map.html">quick_map</a></span><span class="op">(</span><span class="va">data</span>, plot_col <span class="op">=</span> <span class="st">"car.side"</span>, </span>
<span>          save_to <span class="op">=</span> <span class="st">"example_path/plot.png"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="what-happens-if-a-country-is-not-recognised">What happens if a country is not recognised ?<a class="anchor" aria-label="anchor" href="#what-happens-if-a-country-is-not-recognised"></a>
</h3>
<p>When a country name is not recognised or does not match with a
country in the standard, a warning is given to the user. In the example
above, the country that has no match (UNK) is Kosovo, which is not in
the ISO 3166-1 standard.</p>
<p>If you are interested in knowing exactly how the country were matched
you can just use the function <code><a href="../reference/country_name.html">country_name()</a></code>.</p>
</div>
</div>
<div class="section level2">
<h2 id="zooming-regional-maps">Zooming / Regional maps<a class="anchor" aria-label="anchor" href="#zooming-regional-maps"></a>
</h2>
<p>Suppose you wish to plot a map of specific regions of the globe. The
package comes with predefined zoom settings
<code>c("Default", "World", "Africa", "Asia", "Europe", "SEAsia", "NAmerica", "CAmerica", "SAmerica", "Oceania")</code>.
Alternatively, it is also possible to define a custom zoom by passing
the min/max longitude and latitude.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/quick_map.html">quick_map</a></span><span class="op">(</span><span class="va">data</span>, plot_col <span class="op">=</span> <span class="st">"car.side"</span>, zoom <span class="op">=</span> <span class="st">"Africa"</span><span class="op">)</span></span></code></pre></div>
<p><img src="quick_map_files/figure-html/unnamed-chunk-5-1.png" width="50%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/quick_map.html">quick_map</a></span><span class="op">(</span><span class="va">data</span>, plot_col <span class="op">=</span> <span class="st">"car.side"</span>, zoom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">55</span>, <span class="op">-</span><span class="fl">10</span>, <span class="fl">15</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="quick_map_files/figure-html/unnamed-chunk-6-1.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="customising-the-look-of-your-map">Customising the look of your map<a class="anchor" aria-label="anchor" href="#customising-the-look-of-your-map"></a>
</h2>
<p>The function provides basic settings to customise the essential
elements of the map in a simple way. If these changes are not enough,
full customisation can be achieved with ggplot commands. Let’s see some
examples.</p>
<div class="section level3">
<h3 id="themes-and-visual-settings">Themes and visual settings<a class="anchor" aria-label="anchor" href="#themes-and-visual-settings"></a>
</h3>
<p>With the argument <code>theme</code> it is possible to switch among
the predefined looks for the map. <code>theme</code> can take as a value
a number between 1 and 11, or one of the predefined themes’ names:
<code>c("Default", "Greyscale", "Candy", "RedBlue", "Dark", "Reds", "Blues", "Greens", "Viridis", "Cividis", "Distinct")</code>.
If <code>0</code> or <code>"NoTheme"</code> is passed, ggplot2 settings
are used (no theme is applied to the map).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/quick_map.html">quick_map</a></span><span class="op">(</span><span class="va">data</span>, plot_col <span class="op">=</span> <span class="st">"population"</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>          theme <span class="op">=</span> <span class="st">"Candy"</span><span class="op">)</span></span></code></pre></div>
<p><img src="quick_map_files/figure-html/unnamed-chunk-7-1.png" width="100%"></p>
<p>Some basic visual elements can be modified within
<code><a href="../reference/quick_map.html">quick_map()</a></code>. For instance, In case you are not happy with
the colour ordering, it can be reversed with
<code>reverse_palette = TRUE</code>. <code>col_na</code> can be used to
set the colour for countries with missing data (NAs), finally,
<code>col_na</code> and <code>width_border</code> set the colour and
thickness of the border lines between territories (or remove them
altogether).</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/quick_map.html">quick_map</a></span><span class="op">(</span><span class="va">data</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">150</span>,<span class="op">]</span>, plot_col <span class="op">=</span> <span class="st">"population"</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>          theme <span class="op">=</span> <span class="st">"Greyscale"</span>,</span>
<span>          reverse_palette <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>          col_na <span class="op">=</span> <span class="st">"darkred"</span>,</span>
<span>          col_border <span class="op">=</span> <span class="st">"NA"</span><span class="op">)</span> <span class="co"># here we are removing the border lines</span></span></code></pre></div>
<p><img src="quick_map_files/figure-html/unnamed-chunk-8-1.png" width="100%"></p>
</div>
<div class="section level3">
<h3 id="colour-scale-breaks">Colour scale breaks<a class="anchor" aria-label="anchor" href="#colour-scale-breaks"></a>
</h3>
<p>By default, <code><a href="../reference/quick_map.html">quick_map()</a></code> discretises continuous
variables, such as population, in 6 buckets for plotting. This is
because continuous scales usually are not easy to interpret in world
maps. This means that the colour assignment depends the bucket in which
the country falls. In some cases, like in the example above, the
automatic buckets defined by <code><a href="../reference/quick_map.html">quick_map()</a></code> may not yield the
best results. Users can supply values for the colour breaks manually
with the argument <code>col_breaks</code>. In the example below, I
manually pass powers of ten as breaks.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/quick_map.html">quick_map</a></span><span class="op">(</span><span class="va">data</span>, plot_col <span class="op">=</span> <span class="st">"population"</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>          theme <span class="op">=</span> <span class="st">"RedBlue"</span>,</span>
<span>          col_breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1e5</span>, <span class="fl">1e6</span>, <span class="fl">1e7</span> , <span class="fl">1e8</span>, <span class="fl">1e9</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="quick_map_files/figure-html/unnamed-chunk-9-1.png" width="100%">
Some predefined themes have only a limited number of colours. If you
have many breaks, the following themes support more colours:
<code>c("Greyscale", "Dark", "Reds", "Blues", "Greens", "Viridis", "Cividis", "Distinct")</code>.
Finally, if you wish to keep a continuous colour scale, instead of a
disretised one, you can request the raw ggplot output with
<code>theme = 0</code>.</p>
</div>
<div class="section level3">
<h3 id="advanced-customisation">Advanced customisation<a class="anchor" aria-label="anchor" href="#advanced-customisation"></a>
</h3>
<p>The nice thing about <code><a href="../reference/quick_map.html">quick_map()</a></code> is that the output is a
ggplot object, so customisation is truly endless. Let’s start with our
last plot:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/quick_map.html">quick_map</a></span><span class="op">(</span><span class="va">data</span>, plot_col <span class="op">=</span> <span class="st">"population"</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>          theme <span class="op">=</span> <span class="st">"RedBlue"</span>,</span>
<span>          col_breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1e5</span>, <span class="fl">1e6</span>, <span class="fl">1e7</span> , <span class="fl">1e8</span>, <span class="fl">1e9</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The look of the can be customised with any of ggplot’s
<code>theme</code> or <code>scale</code> commands. For example, below I
remove the name of the legend, <strong>provide custom colours</strong>
for the 6 buckets, add a title and change the background:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># let's define 6 colours for our map</span></span>
<span><span class="va">colours6</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"white"</span>, <span class="st">"lightblue"</span>, <span class="st">"blue"</span>, <span class="st">"grey"</span>, <span class="st">"black"</span>,<span class="st">"yellow"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># let's apply them to our plot!</span></span>
<span><span class="va">p</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span>name <span class="op">=</span> <span class="cn">NULL</span>,  <span class="co"># remove name in fill legend</span></span>
<span>                    values <span class="op">=</span> <span class="va">colours6</span><span class="op">)</span><span class="op">+</span> <span class="co"># use custom colours</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"World population"</span><span class="op">)</span> <span class="op">+</span> <span class="co"># add a title to the plot </span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>plot.background <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_rect</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"#e3cff9"</span><span class="op">)</span>, <span class="co"># change colour of background</span></span>
<span>        legend.position <span class="op">=</span> <span class="st">"top"</span>,  <span class="co"># move legend on top</span></span>
<span>        plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span>, family <span class="op">=</span> <span class="st">"mono"</span><span class="op">)</span><span class="op">)</span> <span class="co"># center the title and change font family</span></span></code></pre></div>
<p><img src="quick_map_files/figure-html/unnamed-chunk-11-1.png" width="100%"></p>
<p>Anything that works with ggplot will work also with the output of
<code><a href="../reference/quick_map.html">quick_map()</a></code>. It’s even possible to <strong>add annotations
or additional layers</strong> to the map. For example, in the image
below, I am adding text, arrows and markers corresponding to country
capitals by using the longitude and latitude as coordinates.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># extract capital longitude and latitude in data table</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">long</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">sub</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">data</span><span class="op">$</span><span class="va">capitalInfo.latlng</span>, pattern <span class="op">=</span> <span class="st">"^.*; "</span>, replacement <span class="op">=</span> <span class="st">""</span>, perl <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">lat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">sub</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">data</span><span class="op">$</span><span class="va">capitalInfo.latlng</span>, pattern <span class="op">=</span> <span class="st">";.*$"</span>, replacement <span class="op">=</span> <span class="st">""</span>, perl <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># make a map</span></span>
<span><span class="fu"><a href="../reference/quick_map.html">quick_map</a></span><span class="op">(</span><span class="va">data</span>, <span class="st">"landlocked"</span>, zoom <span class="op">=</span> <span class="st">"Europe"</span>, theme <span class="op">=</span> <span class="st">"Greens"</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span>, mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">long</span>, y <span class="op">=</span> <span class="va">lat</span>, group <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>, shape <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="op">+</span> <span class="co"># add markers for the capitals</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_text</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span>,<span class="op">]</span>, mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">long</span>, y <span class="op">=</span> <span class="va">lat</span>, label <span class="op">=</span> <span class="va">capital</span>, group <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">3</span>, nudge_y <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">)</span> <span class="op">+</span> <span class="co"># printing capital name for first 20 rows</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html" class="external-link">annotate</a></span><span class="op">(</span><span class="st">"segment"</span>, x <span class="op">=</span> <span class="fl">18</span>, y <span class="op">=</span> <span class="fl">35</span>, xend <span class="op">=</span> <span class="fl">14</span>, yend <span class="op">=</span> <span class="fl">42</span>,</span>
<span>           arrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/arrow.html" class="external-link">arrow</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"closed"</span>, length <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fl">0.02</span>, <span class="st">"npc"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">+</span>   <span class="co"># add an arrow</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html" class="external-link">annotate</a></span><span class="op">(</span><span class="st">"label"</span>, x <span class="op">=</span> <span class="fl">18</span>, y <span class="op">=</span> <span class="fl">35</span>, label <span class="op">=</span> <span class="st">"A boot!"</span><span class="op">)</span>  <span class="co"># add a text annotation</span></span></code></pre></div>
<p><img src="quick_map_files/figure-html/unnamed-chunk-12-1.png" width="100%"></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Francesco Saverio Bellelli.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
